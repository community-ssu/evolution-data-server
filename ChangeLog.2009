2009-03-31  Robert Peto  <robert.peto@maemo.org>

	Handle default directory in e_contact_persist_data()

	* addressbook/libebook-dbus/e-contact.c

2009-03-31  Robert Peto  <robert.peto@maemo.org>

	Fix returned uids in e_book_add_contacts in file backend.

	* addressbook/backends/file/e-book-backend-file.c

2009-03-30  Robert Peto  <robert.peto@maemo.org>

	Fix memory leaks in vcard parsing in addressbook. (by Xavier Claessens)

	* addressbook/libebook-dbus/e-vcard.c (parse())

2009-03-27  Robert Peto  <robert.peto@maemo.org>

	Fix various memleaks in addressbook.

	* addressbook/libedata-book-dbus/e-data-book-factory.c
	* addressbook/libedata-book-dbus/e-data-book.c
	* addressbook/libebook-dbus/e-book.c

2009-03-26  Robert Peto  <robert.peto@maemo.org>

	Fixes: NB#105292. Apply THRESHOLD macro for breaking the chunks at
	client side itself to avoid the mutex locking & unlocking issues at
	server side. (by Chittibabu Theegala)

	* configure.in: define THRESHOLD to 32.
	* addressbook/libedata-book-dbus/e-data-book-view.c: remove THRESHOLD
	  definition from here.
	* addressbook/libebook-dbus/e-book.c
	 (e_book_add_contacts_by_threshold_limit(), e_book_add_contacts())

2009-03-25  Mathias Hasselmann  <hasselmm@gnome.org>

	Fix NB#107422, NB#107544, NB#107928 and hopefully many other
	regressions.

	* addressbook/libebook-dbus/e-vcard.c (e_vcard_is_parsing()):
	  Properly implement this function. Seems I was tired when commiting
	  the old version.

2009-03-23  Robert Peto  <robert.peto@maemo.org>

	Fold lines properly while exporting to vCard 2.1.

	* addressbook/libebook-dbus/e-vcard.c (e_vcard_to_string_vcard_21())

2009-03-23  Robert Peto  <robert.peto@maemo.org>

	Return with duplicated ids from haystack instead of needles.

	* addressbook/libebook-dbus/e-book-util.c
	 (e_book_util_remove_duplicates())

2009-03-13  Robert Peto  <robert.peto@maemo.org>

	Convert contact to string in format 2.1: replace comma to semicolon
	for type attributes.

	* addressbook/libebook-dbus/e-vcard.c (e_vcard_to_string_vcard_21())

2009-03-12  Robert Peto  <robert.peto@maemo.org>

	API change in e-book-util, extra out parameter added for duplicate
	ids.

	* addressbook/libebook-dbus/e-book-util.c
	 (e_book_util_remove_duplicates(),
	  e_book_util_remove_duplicates_using_book())

2009-03-10  Robert Peto  <robert.peto@maemo.org>

	Apply line folding when importing to vCard 2.1 format and ENCODING is
	not set to QUOTED-PRINTABLE.

	* addressbook/libebook-dbus/e-vcard.c (e_vcard_to_string_vcard_21())

2009-03-03  Robert Peto  <robert.peto@maemo.org>

	Do not insert TYPE string while converting to string.

	* addressbook/libebook-dbus/e-vcard.c (e_vcard_to_string_vcard_21())

2009-03-03  Robert Peto  <robert.peto@maemo.org>

	* addressbook/backends/file/e-book-backend-file.c: protect
	  priv->running_id with a G_LOCK, open DB_ENV with DB_INIT_LOCK flag
	* addressbook/libebook-dbus/e-book-query.c (e_book_query_to_string()):
	  escape gently if EBookQuery is NULL

2009-02-24  Robert Peto  <robert.peto@maemo.org>

	Prevent crashes while disposing EDataBookView. Fixes: NB#101832.

	* libedataserver/e-sexp.c

2009-02-13  Robert Peto  <robert.peto@maemo.org>

	Fix decoding of QUOTED-PRINTABLE encoded attributes in EVCard.
	Fixes: NB#99991.

	* addressbook/libebook-dbus/e-vcard.c (read_attribute_value())

2009-02-12  Robert Peto  <robert.peto@maemo.org>

	Add Quoted Printable support for EVCardAttribute.

	* addressbook/libebook-dbus/e-vcard.c
	 (e_vcard_attribute_add_value_decoded(),
	  e_vcard_attribute_get_values_decoded()): see above
	* e_vcard_is_parsed(): fix return value if fail

2009-02-12  Robert Peto  <robert.peto@maemo.org>

	Fix "base64" encoding problem with PHOTO attribute.
	Fixes: NB#98290.

	* addressbook/libebook-dbus/e-contact.c (photo_getter())

2009-02-06  Robert Peto  <robert.peto@maemo.org>

	Fix error handling in e_book_add_contacts().

	* addressbook/libebook-dbus/e-book.c: see above.
	* addressbook/libedata-book-dbus/e-data-book.c
	 (e_data_book_respond_create_contacts()): Use g_strfreev() for
	allocated char **

2009-02-06  Robert Peto  <robert.peto@maemo.org>

	Fix running id issue in addressbook's file backend.

	* addressbook/backends/file/e-book-backend-file.c
	 (insert_contact())

2009-02-02  Robert Peto  <robert.peto@maemo.org>

	Fix indexing problem in addressbook's file backend. (When starting
	BookView contacts without name doesn't get back.)

	* addressbook/backends/file/e-book-backend-file.c
	* addressbook/backends/file/e-book-backend-file-index.c

2009-01-22  Robert Peto  <robert.peto@maemo.org>

	Fix loading of preinstalled vcards in addressbook's file backend.

	* addressbook/backends/file/e-book-backend-file.c
	 (e_book_backend_file_load_source()): See above.

2009-01-22  Robert Peto  <robert.peto@maemo.org>

	New util functions for prevent duplications in addressbook.

	* addressbook/libebook-dbus/e-book-util.c,
	  addressbook/libebook-dbus/e-book-util.h:
	 (e_book_util_remove_duplicates(),
	  e_book_util_remove_duplicates_using_book()): See above

2009-01-21  Robert Peto  <robert.peto@maemo.org>

	New API functions for persist / inline data in addressbook. (Currently only
	for PHOTO and LOGO properties.)

	* addressbook/libebook-dbus/e-contact.c
	 (e_contact_photo_convert_to_inlined(),
	  e_contact_photo_convert_to_uri(),
	  e_contact_inline_data(), e_contact_persist_data()): See above.
	* configure.in: linking addressbook to gio.

2009-01-16  Robert Peto  <robert.peto@maemo.org>

	Use EFlag in threaded operations of EBookBackend class to prevent them
	running before OPEN has finished.

	* addressbook/libedata-book-dbus/e-book-backend.c
	 (e_book_backend_open(), e_book_backend_create_contact(),
	  e_book_backend_create_contacts(), e_book_backend_remove_contacts(),
	  e_book_backend_modify_contact(), e_book_backend_modify_contacts(),
	  e_book_backend_get_contact(), e_book_backend_get_contact_list(),
	  e_book_backend_get_changes(), e_book_backend_authenticate_user(),
	  e_book_backend_init(), e_book_backend_dispose())

